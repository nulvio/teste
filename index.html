<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuidar, Proteger e Conviver: Sa√∫de Mental e Preven√ß√£o das Viol√™ncias</title>
    
    <!-- React e ReactDOM via CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel para processar JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Estilos de anima√ß√£o personalizados -->
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
            animation: fadeIn 0.8s ease-out forwards;
        }
        @keyframes bounceSlow {
            0%, 100% { transform: translateY(-5%); }
            50% { transform: translateY(5%); }
        }
        .animate-bounce-slow {
            animation: bounceSlow 3s infinite ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 antialiased">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- √çCONES (SVG Inline para evitar depend√™ncias externas complexas) ---
        const Play = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
        );
        const CheckCircle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
        );
        const ArrowRight = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
        );
        const BookOpen = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
        );
        const Star = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
        );
        const RefreshCw = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>
        );
        const Trophy = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M8 21h8a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v1a2 2 0 0 0 2 2z"></path><path d="M16 4h3a2 2 0 0 1 2 2v1a5 5 0 0 1-5 5h-4a5 5 0 0 1-5-5V6a2 2 0 0 1 2-2h3"></path><line x1="12" y1="15" x2="12" y2="18"></line></svg>
        );
        const Heart = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
        );

        // --- DADOS DO CURSO ---
        const courseData = [
          {
            id: 1,
            title: "Sess√£o 1: Bullying",
            videoId: "SykY6r3CDLg",
            imageId: "v8TTs4z",
            quizBg: "https://i.imgur.com/HC9rTKN.png", 
            questions: [
              {
                question: "O que caracteriza o bullying?",
                options: [
                  "Uma brincadeira ocasional entre amigos.",
                  "Agress√µes intencionais, verbais ou f√≠sicas, feitas de maneira repetitiva.",
                  "Um desentendimento √∫nico por conta de um jogo.",
                  "Elogios feitos de forma exagerada."
                ],
                correct: 1
              },
              {
                question: "Quem participa do ciclo do bullying?",
                options: [
                  "Apenas a v√≠tima e o agressor.",
                  "Apenas a escola e os pais.",
                  "O agressor, a v√≠tima e os espectadores (testemunhas).",
                  "Ningu√©m, √© algo imagin√°rio."
                ],
                correct: 2
              },
              {
                question: "Qual √© uma forma eficaz de combater o bullying?",
                options: [
                  "Revidar com viol√™ncia f√≠sica.",
                  "Ficar calado e ignorar.",
                  "Acolher a v√≠tima e buscar ajuda de adultos respons√°veis.",
                  "Rir da situa√ß√£o para n√£o ser o pr√≥ximo alvo."
                ],
                correct: 2
              }
            ]
          },
          {
            id: 2,
            title: "Sess√£o 2: Sa√∫de Mental e Cultura de Paz",
            videoId: "-HuzLjbNsPI",
            imageId: "p9FZR7v",
            quizBg: "https://i.imgur.com/QP1ECX0.png",
            questions: [
              {
                question: "O que √© promover uma Cultura de Paz?",
                options: [
                  "Evitar qualquer tipo de conversa dif√≠cil.",
                  "Resolver conflitos atrav√©s do di√°logo e respeito aos direitos humanos.",
                  "Impor suas vontades para manter a ordem.",
                  "Viver isolado para n√£o ter problemas."
                ],
                correct: 1
              },
              {
                question: "A sa√∫de mental est√° relacionada a:",
                options: [
                  "Apenas n√£o ter doen√ßas mentais.",
                  "Estar feliz 100% do tempo.",
                  "Equil√≠brio emocional e capacidade de lidar com as tens√µes da vida.",
                  "Ter notas altas na escola."
                ],
                correct: 2
              },
              {
                question: "Qual comportamento ajuda na boa conviv√™ncia?",
                options: [
                  "Escuta ativa e empatia.",
                  "Julgamento precipitado.",
                  "Indiferen√ßa.",
                  "Agressividade verbal."
                ],
                correct: 0
              }
            ]
          },
          {
            id: 3,
            title: "Sess√£o 3: Tempos Atuais",
            videoId: "_GnBaUp9nOg",
            imageId: "agfnFbY",
            quizBg: "https://i.imgur.com/DX1bZvu.png",
            questions: [
              {
                question: "Nos tempos atuais, como muitas vezes reagimos sob press√£o?",
                options: [
                  "Sempre com total calma.",
                  "Frequentemente com rea√ß√µes de 'luta ou fuga' (ataque ou defesa).",
                  "Dormindo imediatamente.",
                  "Ignorando a tecnologia."
                ],
                correct: 1
              },
              {
                question: "Reconhecer suas emo√ß√µes √© um sinal de:",
                options: [
                  "Fraqueza.",
                  "Perda de tempo.",
                  "Autoconhecimento e intelig√™ncia emocional.",
                  "Ego√≠smo."
                ],
                correct: 2
              },
              {
                question: "O excesso de est√≠mulos digitais pode causar:",
                options: [
                  "Aumento da ansiedade e dificuldade de concentra√ß√£o.",
                  "Paz interior absoluta.",
                  "Melhora imediata no sono.",
                  "Fim de todos os conflitos."
                ],
                correct: 0
              }
            ]
          },
          {
            id: 4,
            title: "Sess√£o 4: Assertividade",
            videoId: "xbwv1di9ynI",
            imageId: "1SQU2yo",
            quizBg: "https://i.imgur.com/x5XpHo0.png",
            questions: [
              {
                question: "O que significa ser assertivo?",
                options: [
                  "Falar gritando para ser ouvido.",
                  "N√£o expressar sua opini√£o para n√£o chatear os outros.",
                  "Expressar seus sentimentos e direitos com clareza, sem agredir o outro.",
                  "Manipular as pessoas para conseguir o que quer."
                ],
                correct: 2
              },
              {
                question: "Na escola, a assertividade ajuda a:",
                options: [
                  "Criar inimizades.",
                  "Estabelecer limites saud√°veis e melhorar o aprendizado.",
                  "Dominar os colegas.",
                  "Faltar √†s aulas sem justificativa."
                ],
                correct: 1
              },
              {
                question: "Dizer 'n√£o' quando necess√°rio √©:",
                options: [
                  "Uma falta de educa√ß√£o.",
                  "Um direito assertivo.",
                  "Proibido entre amigos.",
                  "Um sinal de agressividade."
                ],
                correct: 1
              }
            ]
          },
          {
            id: 5,
            title: "Sess√£o 5: Agressivo e Passivo",
            videoId: "FW9YHIbw0Eg",
            imageId: "LGQaCtc",
            quizBg: "https://i.imgur.com/lsbC4nD.png",
            questions: [
              {
                question: "Qual caracter√≠stica define o comportamento passivo?",
                options: [
                  "Explos√µes de raiva.",
                  "Dificuldade em dizer n√£o e colocar as necessidades dos outros acima das suas.",
                  "Falar com clareza e firmeza.",
                  "Desrespeitar os direitos alheios."
                ],
                correct: 1
              },
              {
                question: "O comportamento agressivo geralmente gera:",
                options: [
                  "Medo, afastamento e mais viol√™ncia.",
                  "Respeito genu√≠no e admira√ß√£o.",
                  "Paz e harmonia.",
                  "Colabora√ß√£o da equipe."
                ],
                correct: 0
              },
              {
                question: "O objetivo √© sair dos extremos (passivo/agressivo) e buscar:",
                options: [
                  "A indiferen√ßa.",
                  "O isolamento.",
                  "O equil√≠brio assertivo.",
                  "A vingan√ßa."
                ],
                correct: 2
              }
            ]
          },
          {
            id: 6,
            title: "Sess√£o 6: Comunica√ß√£o com Confian√ßa",
            videoId: "pkWz0mp5r2E",
            imageId: "2monaHa",
            quizBg: "https://i.imgur.com/6q6EfBM.png",
            questions: [
              {
                question: "Para comunicar com confian√ßa, √© importante:",
                options: [
                  "Olhar para o ch√£o enquanto fala.",
                  "Manter contato visual e tom de voz adequado.",
                  "Falar o mais r√°pido poss√≠vel.",
                  "Usar g√≠rias ofensivas."
                ],
                correct: 1
              },
              {
                question: "A linguagem corporal (postura, gestos):",
                options: [
                  "N√£o importa na comunica√ß√£o.",
                  "Diz muito sobre como nos sentimos e refor√ßa nossa mensagem.",
                  "S√≥ √© importante para atores.",
                  "Deve ser r√≠gida e im√≥vel."
                ],
                correct: 1
              },
              {
                question: "Confian√ßa na comunica√ß√£o significa:",
                options: [
                  "Saber que voc√™ √© melhor que os outros.",
                  "Acreditar na sua pr√≥pria voz e no direito de ser ouvido.",
                  "Nunca aceitar cr√≠ticas.",
                  "Falar alto o tempo todo."
                ],
                correct: 1
              }
            ]
          },
          {
            id: 7,
            title: "Sess√£o 7: Como lidar com os conflitos",
            videoId: "bThLZOFJWVs",
            imageId: "EMPiCsl",
            quizBg: "https://i.imgur.com/nVbV0CQ.png",
            questions: [
              {
                question: "O conflito √©:",
                options: [
                  "Sempre algo ruim e destrutivo.",
                  "Algo natural da conviv√™ncia que pode ser uma oportunidade de crescimento.",
                  "Algo que deve ser evitado a qualquer custo.",
                  "Prova de que as pessoas n√£o se gostam."
                ],
                correct: 1
              },
              {
                question: "Uma boa estrat√©gia para resolver conflitos √©:",
                options: [
                  "Ganhar a discuss√£o a qualquer pre√ßo.",
                  "Buscar solu√ß√µes onde todos ganham (ganha-ganha).",
                  "Ignorar a pessoa para sempre.",
                  "Fazer fofoca sobre o ocorrido."
                ],
                correct: 1
              },
              {
                question: "Para 'mandar bem' nos conflitos, devemos:",
                options: [
                  "Agir por impulso.",
                  "Controlar as emo√ß√µes e focar no problema, n√£o na pessoa.",
                  "Atacar a personalidade do outro.",
                  "Chamar mais gente para a briga."
                ],
                correct: 1
              }
            ]
          }
        ];

        // --- COMPONENTES ---

        const Button = ({ onClick, children, variant = "primary", className = "", disabled = false }) => {
          const baseStyle = "px-6 py-3 rounded-full font-bold transition-all duration-300 shadow-md flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed";
          const variants = {
            primary: "bg-teal-600 hover:bg-teal-700 text-white hover:scale-105",
            secondary: "bg-white text-teal-700 border-2 border-teal-600 hover:bg-teal-50",
            success: "bg-green-500 hover:bg-green-600 text-white",
            outline: "border-2 border-white text-white hover:bg-white hover:text-purple-900"
          };

          return (
            <button onClick={onClick} disabled={disabled} className={`${baseStyle} ${variants[variant]} ${className}`}>
              {children}
            </button>
          );
        };

        const ProgressBar = ({ current, total }) => {
          const percentage = ((current + 1) / total) * 100;
          return (
            <div className="w-full bg-gray-200 h-2.5 rounded-full mb-6">
              <div 
                className="bg-teal-600 h-2.5 rounded-full transition-all duration-500 ease-out" 
                style={{ width: `${Math.min(percentage, 100)}%` }}
              ></div>
              <p className="text-xs text-gray-500 text-right mt-1">Progresso: {Math.round(percentage)}%</p>
            </div>
          );
        };

        // Componente Footer Reutiliz√°vel
        const Footer = ({ className = "" }) => (
          <footer className={`w-full py-4 text-center px-4 text-xs md:text-sm ${className}`}>
            <p>
              Curso Educativo para Adolescentes desenvolvido para o Programa Sa√∫de na Escola do Munic√≠pio de Florian√≥polis
            </p>
            <p className="mt-1">
              ¬© Prefeitura Municipal de Florian√≥polis - Secretaria Municipal de Sa√∫de.
            </p>
          </footer>
        );

        // --- APP PRINCIPAL ---

        function App() {
          const [screen, setScreen] = useState('cover'); // cover, content, quiz, results
          const [userName, setUserName] = useState(''); // Estado para o nome
          const [currentSessionIndex, setCurrentSessionIndex] = useState(0);
          const [quizScore, setQuizScore] = useState(0);
          const [totalQuestionsAnswered, setTotalQuestionsAnswered] = useState(0);
          
          // Quiz State
          const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
          const [selectedOption, setSelectedOption] = useState(null);
          const [isAnswerChecked, setIsAnswerChecked] = useState(false);
          const [sessionScore, setSessionScore] = useState(0);

          const currentSession = courseData[currentSessionIndex];

          // Helper para Scroll Top
          useEffect(() => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
          }, [screen, currentSessionIndex, currentQuestionIndex]);

          // --- HANDLERS ---

          const startCourse = () => {
            setScreen('content');
          };

          const startQuiz = () => {
            setScreen('quiz');
            setCurrentQuestionIndex(0);
            setSelectedOption(null);
            setIsAnswerChecked(false);
            setSessionScore(0);
          };

          const checkAnswer = () => {
            if (selectedOption === null) return;
            
            setIsAnswerChecked(true);
            const correct = currentSession.questions[currentQuestionIndex].correct;
            
            if (selectedOption === correct) {
              setSessionScore(prev => prev + 1);
              setQuizScore(prev => prev + 1);
            }
            setTotalQuestionsAnswered(prev => prev + 1);
          };

          const nextQuestion = () => {
            if (currentQuestionIndex < currentSession.questions.length - 1) {
              setCurrentQuestionIndex(prev => prev + 1);
              setSelectedOption(null);
              setIsAnswerChecked(false);
            } else {
              // Fim do quiz da sess√£o
              handleSessionComplete();
            }
          };

          const handleSessionComplete = () => {
            if (currentSessionIndex < courseData.length - 1) {
              setCurrentSessionIndex(prev => prev + 1);
              setScreen('content');
            } else {
              setScreen('results');
            }
          };

          const restartCourse = () => {
            setCurrentSessionIndex(0);
            setQuizScore(0);
            setTotalQuestionsAnswered(0);
            setScreen('cover');
          };

          // --- TELAS ---

          if (screen === 'cover') {
            return (
              <div 
                className="min-h-screen flex flex-col items-center justify-center relative font-sans"
                style={{
                  backgroundImage: `url('https://i.imgur.com/FOImCKJ.png')`,
                  backgroundSize: 'cover',
                  backgroundPosition: 'center',
                  backgroundAttachment: 'fixed'
                }}
              >
                <div className="absolute inset-0 bg-gradient-to-b from-purple-900/60 to-black/50"></div>
                
                <div className="relative z-10 max-w-4xl px-6 text-center text-white space-y-8 animate-fade-in-up">
                  <div className="bg-black/40 backdrop-blur-none p-8 rounded-3xl border border-white/10 shadow-2xl">
                    <h1 className="text-4xl md:text-6xl font-extrabold mb-6 tracking-tight leading-tight text-transparent bg-clip-text bg-gradient-to-r from-teal-300 to-white">
                      Cuidar, Proteger e Conviver
                    </h1>
                    <h2 className="text-xl md:text-2xl font-light text-teal-100 mb-8">
                      Sa√∫de Mental e Preven√ß√£o das Viol√™ncias
                    </h2>
                    
                    <p className="text-lg md:text-xl leading-relaxed text-gray-100 mb-8 max-w-2xl mx-auto drop-shadow-md">
                      ‚ÄúCuidar da sa√∫de mental √© fundamental para viver com mais equil√≠brio e harmonia e falar sobre preven√ß√£o das viol√™ncias fortalece rela√ß√µes mais seguras e acolhedoras.
                      <br/><br/>
                      Este curso convida voc√™ a refletir, aprender e construir formas mais saud√°veis de conviver.‚Äù
                    </p>

                    <div className="flex flex-col items-center gap-4">
                      <input
                        type="text"
                        placeholder="Digite seu nome para come√ßar..."
                        value={userName}
                        onChange={(e) => setUserName(e.target.value)}
                        className="w-full max-w-md px-6 py-3 rounded-full bg-white/20 border border-white/30 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-400 text-center text-lg backdrop-blur-sm transition-all"
                      />
                      <Button onClick={startCourse} variant="primary" className="mx-auto text-lg w-full md:w-auto">
                        Iniciar Jornada <ArrowRight size={24} />
                      </Button>
                    </div>
                  </div>
                </div>
                
                <Footer className="absolute bottom-4 text-white/70" />
              </div>
            );
          }

          if (screen === 'content') {
            return (
              <div className="min-h-screen bg-gray-50 flex flex-col font-sans">
                {/* Header */}
                <header className="bg-purple-900 text-white p-4 shadow-lg sticky top-0 z-50">
                  <div className="max-w-5xl mx-auto flex justify-between items-center">
                    <h3 className="font-bold text-lg md:text-xl truncate">{currentSession.title}</h3>
                    <span className="bg-teal-600 px-3 py-1 rounded-full text-xs font-bold">
                      Fase {currentSessionIndex + 1}/{courseData.length}
                    </span>
                  </div>
                </header>

                <main className="flex-grow p-4 md:p-8 max-w-5xl mx-auto w-full">
                  <ProgressBar current={currentSessionIndex} total={courseData.length} />

                  <div className="flex flex-col gap-10 mb-10">
                    {/* V√≠deo */}
                    <div className="bg-white p-6 md:p-8 rounded-3xl shadow-lg border border-gray-100">
                      <div className="flex items-center gap-3 mb-5 text-purple-900 border-b pb-4 border-gray-100">
                        <div className="p-2 bg-purple-100 rounded-lg">
                          <Play size={32} className="fill-purple-600 text-purple-600" />
                        </div>
                        <div>
                          <h4 className="font-bold text-2xl">Assista ao V√≠deo</h4>
                          <p className="text-gray-500 text-sm">Aprofunde seu conhecimento sobre o tema</p>
                        </div>
                      </div>
                      <div className="aspect-video w-full rounded-2xl overflow-hidden bg-black shadow-inner ring-4 ring-purple-50">
                        <iframe 
                          width="100%" 
                          height="100%" 
                          src={`https://www.youtube.com/embed/${currentSession.videoId}`} 
                          title={currentSession.title}
                          frameBorder="0" 
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                          allowFullScreen
                        ></iframe>
                      </div>
                    </div>

                    {/* Imagem/Infogr√°fico */}
                    <div className="bg-white p-6 md:p-8 rounded-3xl shadow-lg border border-gray-100">
                      <div className="flex items-center gap-3 mb-5 text-teal-700 border-b pb-4 border-gray-100">
                        <div className="p-2 bg-teal-100 rounded-lg">
                          <BookOpen size={32} className="text-teal-600" />
                        </div>
                        <div>
                          <h4 className="font-bold text-2xl">Material de Apoio</h4>
                          <p className="text-gray-500 text-sm">Infogr√°fico para reflex√£o</p>
                        </div>
                      </div>
                      <div className="rounded-2xl overflow-hidden shadow-inner border border-gray-200 bg-gray-50">
                        <img 
                          src={`https://i.imgur.com/${currentSession.imageId}.png`} 
                          alt={`Material de apoio: ${currentSession.title}`}
                          className="w-full h-auto object-contain hover:scale-[1.01] transition-transform duration-500"
                          onError={(e) => {
                            e.target.onerror = null; 
                            e.target.src = "https://via.placeholder.com/800x600?text=Imagem+Carregando...";
                          }}
                        />
                      </div>
                    </div>
                  </div>

                  <div className="bg-blue-50 border-l-4 border-blue-500 p-6 rounded-r-xl mb-8">
                    <h5 className="font-bold text-blue-900 mb-2">Pronto para testar seus conhecimentos?</h5>
                    <p className="text-blue-800 mb-4">Complete o teste r√°pido desta sess√£o para desbloquear o pr√≥ximo conte√∫do.</p>
                    <Button onClick={startQuiz} variant="primary" className="w-full md:w-auto">
                      Fazer Teste R√°pido <CheckCircle size={20} />
                    </Button>
                  </div>
                </main>
                <Footer className="bg-gray-100 text-gray-600 border-t border-gray-200" />
              </div>
            );
          }

          if (screen === 'quiz') {
            const question = currentSession.questions[currentQuestionIndex];
            const hasCustomBg = !!currentSession.quizBg;
            
            return (
              <div 
                className={`min-h-screen flex flex-col font-sans ${!hasCustomBg ? 'bg-slate-100' : 'relative'}`}
                style={hasCustomBg ? {
                    backgroundImage: `url('${currentSession.quizBg}')`,
                    backgroundSize: 'cover',
                    backgroundPosition: 'center',
                    backgroundAttachment: 'fixed'
                } : {}}
              >
                {/* Overlay escuro se houver imagem de fundo */}
                {hasCustomBg && <div className="absolute inset-0 bg-black/50 z-0"></div>}
                
                {/* Conte√∫do centralizado */}
                <div className="flex-grow flex items-center justify-center p-4 relative z-10 w-full">
                  {/* Alterado de bg-white/40 para bg-white/30 */}
                  <div className="bg-white/30 max-w-2xl w-full rounded-3xl shadow-2xl overflow-hidden flex flex-col">
                    {/* Quiz Header */}
                    <div className="bg-teal-600 p-6 text-white">
                      <h2 className="text-2xl font-bold flex items-center gap-2">
                        <Star className="fill-yellow-400 text-yellow-400" /> 
                        Quiz: {currentSession.title}
                      </h2>
                      <p className="opacity-90 mt-2">Quest√£o {currentQuestionIndex + 1} de {currentSession.questions.length}</p>
                    </div>

                    {/* Question Body - Alterado de bg-white/40 para bg-white/30 */}
                    <div className="p-6 md:p-8 flex-grow bg-white/30">
                      <h3 className="text-xl font-semibold text-gray-800 mb-6 leading-relaxed">
                        {question.question}
                      </h3>

                      <div className="space-y-3">
                        {question.options.map((option, idx) => (
                          <button
                            key={idx}
                            onClick={() => !isAnswerChecked && setSelectedOption(idx)}
                            className={`w-full text-left p-4 rounded-xl border-2 transition-all duration-200 flex items-center justify-between group
                              ${isAnswerChecked 
                                ? (idx === question.correct 
                                    ? "bg-green-100/90 border-green-500 text-green-900" 
                                    : (idx === selectedOption ? "bg-red-100/90 border-red-500 text-red-900" : "bg-white/60 border-gray-200 opacity-60"))
                                : (selectedOption === idx 
                                    ? "bg-teal-50/90 border-teal-500 shadow-md" 
                                    : "bg-white/80 border-gray-200 hover:border-teal-300 hover:bg-teal-50")
                              }
                            `}
                            disabled={isAnswerChecked}
                          >
                            <span className="font-medium">{option}</span>
                            {isAnswerChecked && idx === question.correct && <CheckCircle className="text-green-600" size={20}/>}
                          </button>
                        ))}
                      </div>
                    </div>

                    {/* Footer Actions */}
                    <div className="p-6 border-t border-gray-200/50 bg-gray-50/80 flex justify-end">
                      {!isAnswerChecked ? (
                        <Button 
                          onClick={checkAnswer} 
                          disabled={selectedOption === null}
                          variant="primary"
                        >
                          Confirmar Resposta
                        </Button>
                      ) : (
                        <Button onClick={nextQuestion} variant={currentQuestionIndex < 2 ? "secondary" : "success"}>
                          {currentQuestionIndex < 2 ? "Pr√≥xima Quest√£o" : "Concluir Sess√£o"} <ArrowRight size={20} />
                        </Button>
                      )}
                    </div>
                  </div>
                </div>

                {/* Alterado: removido backdrop-blur-sm do footer */}
                <Footer className={`relative z-10 ${hasCustomBg ? 'text-white/90 bg-black/40' : 'text-gray-600 bg-gray-100'}`} />
              </div>
            );
          }

          if (screen === 'results') {
            const totalQuestions = courseData.length * 3;
            const percentage = Math.round((quizScore / totalQuestions) * 100);

            let resultTitle = "";
            let resultSubtitle = "";
            let ResultIcon = Trophy; // √çcone padr√£o
            let iconColor = "text-yellow-500";
            let iconBg = "bg-yellow-100";

            if (percentage >= 70) {
              resultTitle = `Parab√©ns${userName ? `, ${userName}` : ''}!`;
              resultSubtitle = "Voc√™ concluiu o curso com sucesso.";
            } else if (percentage >= 50) {
              resultTitle = `Boa tentativa${userName ? `, ${userName}` : ''}!`;
              resultSubtitle = "Mas d√° para melhorar. O que acha de refazer o curso?";
              ResultIcon = Star; // Mudando √≠cone para contextualizar
              iconColor = "text-blue-500";
              iconBg = "bg-blue-100";
            } else {
              resultTitle = `Opa${userName ? `, ${userName}` : ''}!`;
              resultSubtitle = "Parece que voc√™ se distraiu, hein? Acho melhor tentar de novo. üòâ";
              ResultIcon = RefreshCw; // Mudando √≠cone para contextualizar
              iconColor = "text-orange-500";
              iconBg = "bg-orange-100";
            }

            return (
              <div className="min-h-screen bg-gradient-to-br from-teal-500 to-purple-700 flex flex-col font-sans">
                <div className="flex-grow flex items-center justify-center p-4">
                  <div className="bg-white max-w-2xl w-full rounded-3xl shadow-2xl p-8 md:p-12 text-center space-y-8 animate-fade-in-up">
                    
                    <div className="flex justify-center mb-6">
                      <div className={`${iconBg} p-6 rounded-full inline-flex`}>
                        <ResultIcon className={`${iconColor} w-16 h-16 md:w-24 md:h-24 fill-current animate-bounce-slow`} />
                      </div>
                    </div>

                    <div>
                      <h1 className="text-3xl md:text-4xl font-extrabold text-gray-800 mb-2">{resultTitle}</h1>
                      <h2 className="text-xl text-gray-600">{resultSubtitle}</h2>
                    </div>

                    <div className="bg-gray-50 rounded-2xl p-6 border border-gray-100">
                      <p className="text-sm text-gray-500 uppercase tracking-wide font-bold mb-2">Seu Aproveitamento</p>
                      <div className="text-5xl font-black text-teal-600 mb-2">{percentage}%</div>
                      <p className="text-gray-600">Voc√™ acertou <strong className="text-gray-900">{quizScore}</strong> de <strong className="text-gray-900">{totalQuestions}</strong> quest√µes.</p>
                    </div>

                    <div className="bg-purple-50 p-6 rounded-xl text-left border-l-4 border-purple-500">
                      <div className="flex items-start gap-3">
                        <Heart className="text-purple-600 flex-shrink-0 mt-1 fill-purple-200" />
                        <p className="text-gray-700 italic">
                          "Lembre-se: a conviv√™ncia com empatia e respeito √© a chave para um mundo melhor. Use o que aprendeu aqui para cuidar de si e dos outros. Sua sa√∫de mental e suas atitudes fazem a diferen√ßa!"
                        </p>
                      </div>
                    </div>

                    <Button onClick={restartCourse} variant="secondary" className="w-full md:w-auto mx-auto">
                      <RefreshCw size={20} /> Reiniciar Curso
                    </Button>
                  </div>
                </div>
                <Footer className="text-white/80" />
              </div>
            );
          }

          return null;
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>